{{#custom_highschool_current_activity}}

{{> theme_remui_kids/highschool_sidebar}}

<style>
/* Full width container minus sidebar */
.container,
.container-fluid,
#page,
#page-content,
.main-inner,
#topofscroll {
    margin: 0 !important;
    padding: 0 !important;
    max-width: none !important;
    width: 100% !important;
}
.footer-copyright-wrapper ,.footer-mainsection-wrapper{
        display: none !important;
     } 
/* Specific container overrides - push content away from sidebar */
.container {
    max-width: calc(100vw - 280px) !important;
    width: calc(100vw - 280px) !important;
    margin-left: 280px !important;
}

{{#is_highschool_grade}}
.container {
    max-width: calc(100vw - 320px) !important;
    width: calc(100vw - 320px) !important;
    margin-left: 320px !important;
}
{{/is_highschool_grade}}

/* Add top spacing for fixed navbar */
#page,
#page-content,
.main-inner,
#topofscroll {
    margin-top: 0 !important;
    padding-top: 0 !important;
}

/* High School Current Activity Page Styles */
.highschool-current-activity-container {
    margin-left: 280px;
    padding: 40px 30px;
    min-height: calc(100vh - 80px);
    background: #f8fafc;
}

.highschool-current-activity-content {
    max-width: 1200px;
    margin: 0 auto;
}

/* G4G7 Sidebar Override - Ensure proper colors */
.g4g7-sidebar {
    background: #ffffff !important;
    border-right: 1px solid #e5e7eb !important;
}

.g4g7-nav-content {
    background: #ffffff !important;
}

/* Page Header Styles - Same as My Reports */
.reports-header {
    background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
    padding: 30px;
    border-radius: 15px;
    margin-bottom: 30px;
    box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
}

.page-title {
    color: white;
    font-size: 2rem;
    font-weight: 700;
    margin: 0 0 10px 0;
    display: flex;
    align-items: center;
    gap: 15px;
}

.page-title i {
    font-size: 1.8rem;
}

.page-subtitle {
    color: rgba(255, 255, 255, 0.9);
    font-size: 1rem;
    margin: 0;
}

/* Activity Tabs Container */
.activity-tabs-container {
    background: white;
    border-radius: 15px;
    padding: 20px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    margin-bottom: 30px;
}

.activity-tabs {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}
</style>

<div class="highschool-current-activity-container">
    <div class="highschool-current-activity-content">
        <!-- Header Section -->
        <div class="reports-header">
            <h1 class="page-title">
                <i class="fa fa-clock"></i>
                My Actions
            </h1>
            <p class="page-subtitle">
                Explore your ongoing activities and track your progress!
            </p>
        </div>

        <!-- Tabs Section -->
        <div style="margin-bottom: 30px;">
            <div class="activity-tabs-container">
                <div class="activity-tabs">
                            <button class="activity-tab {{#is_tab_quiz}}active{{/is_tab_quiz}}" data-tab="quiz" onclick="switchTab('quiz')">
                                <i class="fa fa-question-circle"></i>
                                <span>Quiz</span>
                                {{#total_quiz}}
                                <span class="tab-badge">{{total_quiz}}</span>
                                {{/total_quiz}}
                            </button>
                            <button class="activity-tab {{#is_tab_assignment}}active{{/is_tab_assignment}}" data-tab="assignment" onclick="switchTab('assignment')">
                                <i class="fa fa-file-alt"></i>
                                <span>Assignment</span>
                                {{#total_assignment}}
                                <span class="tab-badge">{{total_assignment}}</span>
                                {{/total_assignment}}
                            </button>
                            <button class="activity-tab {{#is_tab_upcoming}}active{{/is_tab_upcoming}}" data-tab="upcoming" onclick="switchTab('upcoming')">
                                <i class="fa fa-calendar-alt"></i>
                                <span>Upcoming Activity</span>
                                {{#total_upcoming}}
                                <span class="tab-badge">{{total_upcoming}}</span>
                                {{/total_upcoming}}
                            </button>
                            <button class="activity-tab {{#is_tab_general}}active{{/is_tab_general}}" data-tab="general" onclick="switchTab('general')">
                                <i class="fa fa-folder"></i>
                                <span>General</span>
                                {{#total_general}}
                                <span class="tab-badge">{{total_general}}</span>
                                {{/total_general}}
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab Content -->
            <div class="row">
                <div class="col-12">
                    <!-- Quiz Tab Content -->
                    <div id="tab-quiz" class="tab-content {{#is_tab_quiz}}active{{/is_tab_quiz}}">
                        {{#has_quiz_activities}}
                        <div class="quiz-table-container">
                            <table class="quiz-details-table">
                                <thead>
                                    <tr>
                                        <th>Quiz Name</th>
                                        <th>Course Name</th>
                                        <th>Open Quiz</th>
                                        <th>Close Quiz</th>
                                        <th>Status</th>
                                        <th>Score</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {{#quiz_activities}}
                                    <tr>
                                        <td>
                                            <a href="{{url}}" class="quiz-name-link">{{name}}</a>
                                        </td>
                                        <td>{{coursename}}</td>
                                        <td>
                                            {{#timeopen_formatted}}
                                            <div class="time-info">
                                                {{timeopen_formatted}}
                                            </div>
                                            {{/timeopen_formatted}}
                                            {{^timeopen_formatted}}
                                            <span class="no-time">-</span>
                                            {{/timeopen_formatted}}
                                        </td>
                                        <td>
                                            {{#timeclose_formatted}}
                                            <div class="time-info">
                                                {{timeclose_formatted}}
                                            </div>
                                            {{/timeclose_formatted}}
                                            {{^timeclose_formatted}}
                                            <span class="no-time">-</span>
                                            {{/timeclose_formatted}}
                                        </td>
                                        <td>
                                            <span class="status-badge status-{{status_class}}">{{status}}</span>
                                        </td>
                                        <td>
                                            {{#best_score}}
                                            <span class="score-value">{{best_score}}%</span>
                                            {{/best_score}}
                                            {{^best_score}}
                                            <span class="no-score">-</span>
                                            {{/best_score}}
                                        </td>
                                        <td>
                                            {{#is_closed}}
                                            <span class="attempt-quiz-btn attempt-quiz-btn-disabled">
                                                <i class="fa fa-play-circle"></i>
                                                Attempt Quiz
                                            </span>
                                            {{/is_closed}}
                                            {{^is_closed}}
                                            <a href="{{url}}" class="attempt-quiz-btn">
                                                <i class="fa fa-play-circle"></i>
                                                Attempt Quiz
                                            </a>
                                            {{/is_closed}}
                                        </td>
                                    </tr>
                                    {{/quiz_activities}}
                                </tbody>
                            </table>
                        </div>
                        {{/has_quiz_activities}}
                        {{^has_quiz_activities}}
                        <div class="empty-state">
                            <i class="fa fa-question-circle empty-icon"></i>
                            <h3>No Quiz Activities</h3>
                            <p>You don't have any quiz activities at the moment.</p>
                        </div>
                        {{/has_quiz_activities}}
                    </div>

                    <!-- Assignment Tab Content -->
                    <div id="tab-assignment" class="tab-content">
                        {{#has_assignment_activities}}
                        <div class="quiz-table-container">
                            <table class="quiz-details-table">
                                <thead>
                                    <tr>
                                        <th>Assignment Name</th>
                                        <th>Course Name</th>
                                        <th>Opened Assignment</th>
                                        <th>Closed Assignment</th>
                                        <th>Submission Status</th>
                                        <th>Submit Time</th>
                                        <th>Grading Status</th>
                                        <th>Score</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {{#assignment_activities}}
                                    <tr>
                                        <td>
                                            <a href="{{url}}" class="quiz-name-link">{{name}}</a>
                                        </td>
                                        <td>{{coursename}}</td>
                                        <td>
                                            {{#timeopen_formatted}}
                                            <div class="time-info">
                                                {{timeopen_formatted}}
                                            </div>
                                            {{/timeopen_formatted}}
                                            {{^timeopen_formatted}}
                                            <span class="no-time">-</span>
                                            {{/timeopen_formatted}}
                                        </td>
                                        <td>
                                            {{#timeclose_formatted}}
                                            <div class="time-info">
                                                {{timeclose_formatted}}
                                            </div>
                                            {{/timeclose_formatted}}
                                            {{^timeclose_formatted}}
                                            <span class="no-time">-</span>
                                            {{/timeclose_formatted}}
                                        </td>
                                        <td>
                                            <span class="status-badge status-{{submission_status_class}}">{{submission_status}}</span>
                                        </td>
                                        <td>
                                            {{#submission_time_formatted}}
                                            <div class="time-info">
                                                {{submission_time_formatted}}
                                            </div>
                                            {{/submission_time_formatted}}
                                            {{^submission_time_formatted}}
                                            <span class="no-time">-</span>
                                            {{/submission_time_formatted}}
                                        </td>
                                        <td>
                                            <span class="status-badge status-{{grading_status_class}}">{{grading_status}}</span>
                                        </td>
                                        <td>
                                            {{#score_display}}
                                            <span class="score-value">{{score_display}}</span>
                                            {{/score_display}}
                                            {{^score_display}}
                                            <span class="no-score">-</span>
                                            {{/score_display}}
                                        </td>
                                        <td>
                                            {{#is_closed}}
                                            <span class="attempt-quiz-btn attempt-quiz-btn-disabled">
                                                <i class="fa fa-play-circle"></i>
                                                Submission
                                            </span>
                                            {{/is_closed}}
                                            {{^is_closed}}
                                            <a href="{{url}}" class="attempt-quiz-btn">
                                                <i class="fa fa-file-upload"></i>
                                                Submission
                                            </a>
                                            {{/is_closed}}
                                        </td>
                                    </tr>
                                    {{/assignment_activities}}
                                </tbody>
                            </table>
                        </div>
                        {{/has_assignment_activities}}
                        {{^has_assignment_activities}}
                        <div class="empty-state">
                            <i class="fa fa-file-alt empty-icon"></i>
                            <h3>No Assignment Activities</h3>
                            <p>You don't have any assignment activities at the moment.</p>
                        </div>
                        {{/has_assignment_activities}}
                    </div>

                    <!-- Upcoming Activity Tab Content -->
                    <div id="tab-upcoming" class="tab-content">
                        {{#has_upcoming_activities}}
                        <div class="activities-grid">
                            {{#upcoming_activities}}
                            <a href="{{url}}" class="activity-card">
                                <div class="activity-card-image" style="background-image: url('{{course_image}}');">
                                    <div class="activity-badge upcoming-badge">
                                        <i class="fa fa-{{#is_quiz}}question-circle{{/is_quiz}}{{^is_quiz}}{{#is_assign}}file-alt{{/is_assign}}{{^is_assign}}{{#is_lesson}}book{{/is_lesson}}{{^is_lesson}}calendar-alt{{/is_lesson}}{{/is_assign}}{{/is_quiz}}"></i>
                                    </div>
                                </div>
                                <div class="activity-card-content">
                                    <h3 class="activity-title">{{name}}</h3>
                                    <p class="activity-course">{{coursename}}</p>
                                    <div class="activity-progress">
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: {{completion_percentage}}%;"></div>
                                        </div>
                                        <span class="progress-text">{{completion_percentage}}% Complete</span>
                                    </div>
                                </div>
                            </a>
                            {{/upcoming_activities}}
                        </div>
                        {{/has_upcoming_activities}}
                        {{^has_upcoming_activities}}
                        <div class="empty-state">
                            <i class="fa fa-calendar-alt empty-icon"></i>
                            <h3>No Upcoming Activities</h3>
                            <p>You don't have any upcoming activities at the moment.</p>
                        </div>
                        {{/has_upcoming_activities}}
                    </div>

                    <!-- General Tab Content -->
                    <div id="tab-general" class="tab-content">
                        {{#has_completed_activities}}
                        <div class="quiz-table-container">
                            <table class="quiz-details-table">
                                <thead>
                                    <tr>
                                        <th>Completed Part Type</th>
                                        <th>Completed Activity Name</th>
                                        <th>Course Name</th>
                                        <th>Completed Date</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {{#completed_activities}}
                                    <tr>
                                        <td>
                                            <span class="activity-type-badge activity-type-{{modname}}">
                                                <i class="fa fa-{{#is_quiz}}question-circle{{/is_quiz}}{{^is_quiz}}{{#is_assign}}file-alt{{/is_assign}}{{^is_assign}}{{#is_lesson}}book{{/is_lesson}}{{^is_lesson}}{{#is_video}}video{{/is_video}}{{^is_video}}{{#is_course}}graduation-cap{{/is_course}}{{^is_course}}folder{{/is_course}}{{/is_video}}{{/is_lesson}}{{/is_assign}}{{/is_quiz}}"></i>
                                                {{activity_type}}
                                            </span>
                                        </td>
                                        <td>
                                            <a href="{{url}}" class="quiz-name-link">{{name}}</a>
                                        </td>
                                        <td>{{course_name}}</td>
                                        <td>
                                            {{#completion_time_formatted}}
                                            <div class="time-info">
                                                {{completion_time_formatted}}
                                            </div>
                                            {{/completion_time_formatted}}
                                            {{^completion_time_formatted}}
                                            <span class="no-time">-</span>
                                            {{/completion_time_formatted}}
                                        </td>
                                    </tr>
                                    {{/completed_activities}}
                                </tbody>
                            </table>
                        </div>
                        {{/has_completed_activities}}
                        {{^has_completed_activities}}
                        <div class="empty-state">
                            <i class="fa fa-check-circle empty-icon"></i>
                            <h3>No Completed Activities</h3>
                            <p>You haven't completed any activities yet. Complete activities to see them here!</p>
                        </div>
                        {{/has_completed_activities}}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* Use similar CSS as elementary_lessons_page_clean */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

.elementary-current-activity-content {
    padding: 0 !important;
    margin: 0 !important;
}

.elementary-current-activity-page * {
    background-color: transparent;
}

.elementary-current-activity-page .row,
.elementary-current-activity-page .col-12 {
    background: white !important;
    margin: 0 !important;
    padding: 0 !important;
}

.container,
.container-fluid,
div.container,
div.container-fluid {
    margin: 0 !important;
    padding: 20px !important;
    max-width: 100% !important;
    width: 100% !important;
}

.highschool-current-activity-container {
    margin-left: 280px;
    padding: 40px 30px;
    min-height: calc(100vh - 80px);
    background: #f8fafc;
}

.highschool-current-activity-content {
    max-width: 1200px;
    margin: 0 auto;
}

/* Welcome Header - Same as lessons page */
.welcome-header {
    background: #ffffff;
    border-radius: 24px;
    padding: 50px 40px;
    margin-bottom: 30px;
    box-shadow: 0 4px 20px rgba(129, 140, 248, 0.15);
    text-align: center;
    position: relative;
    overflow: hidden;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    min-height: 180px;
    border: 1px solid rgba(129, 140, 248, 0.1);
}

.welcome-header-content {
    position: relative;
    z-index: 2;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    flex: 1;
}

.welcome-bubbles {
    position: absolute;
    top: 0;
    bottom: 0;
    width: 200px;
    pointer-events: none;
    z-index: 1;
}

.welcome-bubbles-left {
    left: -50px;
}

.welcome-bubbles-right {
    right: -50px;
}

.welcome-bubble {
    position: absolute;
    border-radius: 50%;
    background: rgba(129, 140, 248, 0.15);
    backdrop-filter: blur(10px);
    animation: floatBubble 15s ease-in-out infinite;
}

.welcome-bubble-1 { width: 80px; height: 80px; top: 10%; left: 20%; animation-delay: 0s; }
.welcome-bubble-2 { width: 60px; height: 60px; top: 50%; left: 10%; animation-delay: 1.5s; }
.welcome-bubble-3 { width: 100px; height: 100px; top: 70%; left: 30%; animation-delay: 3s; }
.welcome-bubble-4 { width: 50px; height: 50px; top: 30%; left: 50%; animation-delay: 0.5s; }
.welcome-bubble-5 { width: 90px; height: 90px; top: 15%; right: 15%; animation-delay: 2s; }
.welcome-bubble-6 { width: 70px; height: 70px; top: 45%; right: 25%; animation-delay: 0.8s; }
.welcome-bubble-7 { width: 55px; height: 55px; top: 65%; right: 10%; animation-delay: 2.5s; }
.welcome-bubble-8 { width: 85px; height: 85px; top: 25%; right: 40%; animation-delay: 1.2s; }

@keyframes floatBubble {
    0%, 100% { transform: translateY(0px) translateX(0px) scale(1); opacity: 0.6; }
    25% { transform: translateY(-8px) translateX(4px) scale(1.03); opacity: 0.7; }
    50% { transform: translateY(-4px) translateX(-2px) scale(0.98); opacity: 0.65; }
    75% { transform: translateY(-10px) translateX(6px) scale(1.02); opacity: 0.72; }
}

.welcome-title {
    font-size: 2.5rem;
    color: #6366f1;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
    position: relative;
    z-index: 1;
    text-shadow: none;
    font-weight: 700;
}

.welcome-title i {
    color: #818cf8;
    filter: none;
}

.welcome-subtitle {
    color: #6b7280;
    font-size: 1.2rem;
    position: relative;
    z-index: 1;
    text-shadow: none;
}

/* Tabs Styling */
.activity-tabs-container {
    background: white;
    border-radius: 15px;
    padding: 20px;
    margin-bottom: 30px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
}

.activity-tabs {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: center;
}

.activity-tab {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 24px;
    background: #f3f4f6;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 600;
    color: #6b7280;
    transition: all 0.3s ease;
    position: relative;
}

.activity-tab:hover {
    background: #e5e7eb;
    transform: translateY(-2px);
}

.activity-tab.active {
    background: linear-gradient(135deg, #6366f1 0%, #818cf8 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
}

.activity-tab i {
    font-size: 1.1rem;
}

.tab-badge {
    background: rgba(255, 255, 255, 0.3);
    color: inherit;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 0.85rem;
    font-weight: 700;
}

.activity-tab.active .tab-badge {
    background: rgba(255, 255, 255, 0.25);
}

/* Tab Content */
.tab-content {
    display: none;
    animation: fadeIn 0.3s ease;
}

.tab-content.active {
    display: block;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Activities Grid */
.activities-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.activity-card {
    background: white;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    text-decoration: none;
    color: inherit;
    display: block;
}

.activity-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    text-decoration: none;
    color: inherit;
}

.activity-card-image {
    width: 100%;
    height: 180px;
    background-size: cover;
    background-position: center;
    background-color: #f3f4f6;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

.activity-badge {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: white;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

.quiz-badge {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
}

.assignment-badge {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
}

.upcoming-badge {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
}

.general-badge {
    background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
}

.activity-card-content {
    padding: 20px;
}

.activity-title {
    font-size: 1.1rem;
    font-weight: 700;
    color: #1f2937;
    margin-bottom: 8px;
    line-height: 1.4;
}

.activity-course {
    font-size: 0.9rem;
    color: #6b7280;
    margin-bottom: 15px;
}

.activity-progress {
    margin-top: 15px;
}

.progress-bar {
    width: 100%;
    height: 8px;
    background: #e5e7eb;
    border-radius: 4px;
    overflow: hidden;
    margin-bottom: 8px;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #6366f1 0%, #818cf8 100%);
    border-radius: 4px;
    transition: width 0.3s ease;
}

.progress-text {
    font-size: 0.85rem;
    color: #6b7280;
    font-weight: 600;
}

/* Quiz Table Styling */
.quiz-table-container {
    background: white;
    border-radius: 15px;
    padding: 20px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    overflow-x: auto;
}

.quiz-details-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.95rem;
}

.quiz-details-table thead {
    background: linear-gradient(135deg, #6366f1 0%, #818cf8 100%);
    color: white;
}

.quiz-details-table th {
    padding: 15px 12px;
    text-align: left;
    font-weight: 600;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.quiz-details-table tbody tr {
    border-bottom: 1px solid #e5e7eb;
    transition: background-color 0.2s ease;
}

.quiz-details-table tbody tr:hover {
    background-color: #f9fafb;
}

.quiz-details-table td {
    padding: 15px 12px;
    vertical-align: middle;
}

.quiz-name-link {
    color: #6366f1;
    font-weight: 600;
    text-decoration: none;
    transition: color 0.2s ease;
}

.quiz-name-link:hover {
    color: #818cf8;
    text-decoration: underline;
}

.time-info {
    font-size: 0.9rem;
    line-height: 1.6;
    color: #374151;
}

.time-info strong {
    color: #1f2937;
    font-weight: 600;
    display: block;
    margin-bottom: 4px;
}

.no-time {
    color: #9ca3af;
    font-style: italic;
}

.status-badge {
    display: inline-block;
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
    text-transform: capitalize;
}

.status-not-started {
    background: #fef3c7;
    color: #d97706;
}

.status-in-progress,
.status-started {
    background: #dbeafe;
    color: #2563eb;
}

.status-completed {
    background: #d1fae5;
    color: #059669;
}

.status-closed {
    background: #fee2e2;
    color: #dc2626;
}

.status-not-yet-available {
    background: #f3f4f6;
    color: #6b7280;
}

/* Assignment specific status badges */
.status-not-submitted {
    background: #fef3c7;
    color: #d97706;
}

.status-draft {
    background: #dbeafe;
    color: #2563eb;
}

.status-submitted {
    background: #d1fae5;
    color: #059669;
}

.status-overdue {
    background: #fee2e2;
    color: #dc2626;
}

.status-not-graded {
    background: #f3f4f6;
    color: #6b7280;
}

.status-graded {
    background: #d1fae5;
    color: #059669;
}

/* Activity Type Badge */
.activity-type-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    background: #e0e7ff;
    color: #4f46e5;
    border-radius: 6px;
    font-weight: 600;
    font-size: 0.85rem;
}

.activity-type-badge i {
    font-size: 0.9rem;
}

.activity-type-upcoming {
    background: linear-gradient(135deg, #6366f1 0%, #818cf8 100%);
    color: white;
}

.activity-type-quiz {
    background: #fee2e2;
    color: #dc2626;
}

.activity-type-assign {
    background: #dbeafe;
    color: #2563eb;
}

.activity-type-lesson {
    background: #fef3c7;
    color: #d97706;
}

.activity-type-scorm {
    background: #d1fae5;
    color: #059669;
}

.activity-type-videofile,
.activity-type-videotime {
    background: #fce7f3;
    color: #be185d;
}

.activity-type-resource,
.activity-type-page,
.activity-type-url {
    background: #f3f4f6;
    color: #6b7280;
}

.activity-type-folder {
    background: #ede9fe;
    color: #7c3aed;
}

.activity-type-book {
    background: #fef3c7;
    color: #d97706;
}

.activity-type-forum {
    background: #dbeafe;
    color: #2563eb;
}

.activity-type-hvp {
    background: #d1fae5;
    color: #059669;
}

.score-value {
    font-weight: 700;
    color: #059669;
    font-size: 1rem;
}

.no-score,
.no-attempt {
    color: #9ca3af;
}

.attempt-quiz-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 14px;
    background: transparent;
    color: #6366f1;
    text-decoration: none;
    border: 1.5px solid #6366f1;
    border-radius: 6px;
    font-weight: 600;
    font-size: 0.85rem;
    transition: all 0.3s ease;
    white-space: nowrap;
}

.attempt-quiz-btn:hover {
    background: #f3f4f6;
    color: #4f46e5;
    border-color: #4f46e5;
    transform: translateY(-1px);
    text-decoration: none;
}

.attempt-quiz-btn i {
    font-size: 0.9rem;
    color: inherit;
}

.attempt-quiz-btn-disabled {
    background: transparent !important;
    color: #9ca3af !important;
    border-color: #d1d5db !important;
    cursor: not-allowed;
    pointer-events: none;
    opacity: 0.6;
}

.attempt-quiz-btn-disabled:hover {
    background: transparent !important;
    color: #9ca3af !important;
    border-color: #d1d5db !important;
    transform: none !important;
}

/* Empty State */
.empty-state {
    text-align: center;
    padding: 60px 20px;
    background: white;
    border-radius: 15px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
}

.empty-icon {
    font-size: 4rem;
    color: #d1d5db;
    margin-bottom: 20px;
}

.empty-state h3 {
    font-size: 1.5rem;
    color: #374151;
    margin-bottom: 10px;
}

.empty-state p {
    font-size: 1rem;
    color: #6b7280;
}

/* Responsive */
@media (max-width: 768px) {
    .elementary-current-activity-page {
        left: 0;
        width: 100%;
    }
    
    .activities-grid {
        grid-template-columns: 1fr;
    }
    
    .activity-tabs {
        flex-direction: column;
    }
    
    .activity-tab {
        width: 100%;
        justify-content: center;
    }
    
    .quiz-table-container {
        overflow-x: scroll;
        padding: 10px;
    }
    
    .quiz-details-table {
        font-size: 0.85rem;
        min-width: 800px;
    }
    
    .quiz-details-table th,
    .quiz-details-table td {
        padding: 10px 8px;
    }
}
</style>

<script>
function switchTab(tabName) {
    // Hide all tab contents
    document.querySelectorAll('.tab-content').forEach(function(content) {
        content.classList.remove('active');
    });
    
    // Remove active class from all tabs
    document.querySelectorAll('.activity-tab').forEach(function(tab) {
        tab.classList.remove('active');
    });
    
    // Show selected tab content
    const selectedContent = document.getElementById('tab-' + tabName);
    if (selectedContent) {
        selectedContent.classList.add('active');
    }
    
    // Add active class to selected tab
    const selectedTab = document.querySelector('[data-tab="' + tabName + '"]');
    if (selectedTab) {
        selectedTab.classList.add('active');
    }
    
    // Update URL without reloading
    const url = new URL(window.location);
    url.searchParams.set('tab', tabName);
    window.history.pushState({}, '', url);
}

// Initialize tab on page load
document.addEventListener('DOMContentLoaded', function() {
    const urlParams = new URLSearchParams(window.location.search);
    const activeTab = urlParams.get('tab') || 'quiz';
    switchTab(activeTab);
});
</script>

{{/custom_highschool_current_activity}}
