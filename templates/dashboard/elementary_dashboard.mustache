{{!
    Elementary Dashboard Template for remui_kids theme
    
    This template provides a child-friendly dashboard for Elementary (Grades 1-3) students
    with colorful summary cards, cute characters, and engaging animations.
}}

<div class="elementary-dashboard-wrapper">
    <!-- Welcome Header -->
    <div class="elementary-welcome-header">
        <div class="welcome-content">
            <div class="welcome-icon">ðŸŽ“</div>
            <div class="welcome-text">
                <h1 class="welcome-title">Welcome, {{student_name}}! ðŸŒŸ</h1>
                <p class="welcome-subtitle">Ready for another amazing day of learning?</p>
            </div>
        </div>
    </div>

    <!-- Summary Statistics Cards -->
    <div class="elementary-stats-container">
        <!-- Courses Card -->
        <div class="elementary-stat-card courses-card" onclick="navigateToPage('courses')">
            <div class="stat-icon-container">
                <i class="fa fa-graduation-cap stat-icon"></i>
            </div>
            <div class="stat-content">
                <div class="stat-number">{{courses_count}}</div>
                <div class="stat-label">Courses</div>
                <div class="stat-sublabel">Grade average {{grade_average}}%</div>
            </div>
        </div>

        <!-- Lessons Card -->
        <div class="elementary-stat-card lessons-card" onclick="navigateToPage('lessons')">
            <div class="stat-icon-container">
                <i class="fa fa-check-circle stat-icon"></i>
            </div>
            <div class="stat-content">
                <div class="stat-number">{{lessons_completed}}</div>
                <div class="stat-label">Lessons</div>
                <div class="stat-sublabel">Grade avg {{lessons_average}}%</div>
            </div>
        </div>

        <!-- Activities Card -->
        <div class="elementary-stat-card activities-card" onclick="navigateToPage('activities')">
            <div class="stat-icon-container">
                <i class="fa fa-trophy stat-icon"></i>
            </div>
            <div class="stat-content">
                <div class="stat-number">{{activities_done}}</div>
                <div class="stat-label">Activities Done</div>
                <div class="stat-sublabel">{{activities_percentage}}% of class grade avg.</div>
            </div>
        </div>

        <!-- Progress Card -->
        <div class="elementary-stat-card progress-card" onclick="navigateToPage('progress')">
            <div class="stat-icon-container">
                <i class="fa fa-chart-line stat-icon"></i>
            </div>
            <div class="stat-content">
                <div class="stat-number">{{overall_progress}}%</div>
                <div class="stat-label">Progress</div>
                <div class="stat-sublabel">Grade avg {{progress_average}}%</div>
            </div>
        </div>
    </div>

    <!-- Search Bar -->
    <div class="elementary-search-container">
        <div class="search-wrapper">
            <i class="fa fa-search search-icon"></i>
            <input type="text" class="elementary-search-input" placeholder="Search courses, lessons, activities..." />
        </div>
    </div>

    <!-- My Courses Section -->
    <div class="elementary-courses-section">
        <div class="section-header">
            <h2 class="section-title">
                <i class="fa fa-book-open"></i>
                My Courses
            </h2>
            <a href="{{mycoursesurl}}" class="view-all-link">View All â†’</a>
        </div>

        <div class="elementary-courses-grid">
            {{#courses}}
            <div class="elementary-course-card enhanced" onclick="navigateToCourse('{{id}}')">
                <div class="course-image-container">
                    {{#course_image}}
                    <img src="{{course_image}}" alt="{{fullname}}" class="course-image">
                    {{/course_image}}
                    {{^course_image}}
                    <div class="course-image-placeholder">
                        <i class="fa fa-book"></i>
                    </div>
                    {{/course_image}}
                    
                    <div class="course-level-badge">{{course_level}}</div>
                    <div class="course-status-indicator {{status_class}}">
                        <i class="fa {{status_icon}}"></i>
                    </div>
                </div>
                
                <div class="course-content">
                    <div class="course-header">
                        <h3 class="course-title">{{fullname}}</h3>
                        {{#grade}}
                        <div class="course-grade">{{grade}}</div>
                        {{/grade}}
                    </div>
                    
                    {{#summary}}
                    <p class="course-summary">{{summary}}</p>
                    {{/summary}}
                    
                    <div class="course-progress-section">
                        <div class="progress-header">
                            <span class="progress-label">Progress</span>
                            <span class="progress-percentage">{{progress}}%</span>
                        </div>
                        <div class="progress-bar-container">
                            <div class="progress-bar" style="width: {{progress}}%"></div>
                        </div>
                    </div>
                    
                    <div class="course-actions">
                        <button class="btn-continue" onclick="continueCourse('{{id}}')">
                            <i class="fa fa-play"></i>
                            Continue Learning
                        </button>
                    </div>
                </div>
            </div>
            {{/courses}}
        </div>
    </div>

    <!-- Upcoming Events -->
    <div class="elementary-events-section">
        <div class="section-header">
            <h2 class="section-title">
                <i class="fa fa-calendar"></i>
                Upcoming Events
            </h2>
        </div>
        
        <div class="events-container">
            {{#upcoming_events}}
            <div class="event-card">
                <div class="event-date">
                    <div class="event-day">{{day}}</div>
                    <div class="event-month">{{month}}</div>
                </div>
                <div class="event-content">
                    <h4 class="event-title">{{title}}</h4>
                    <p class="event-description">{{description}}</p>
                    <div class="event-time">
                        <i class="fa fa-clock"></i>
                        {{time}}
                    </div>
                </div>
            </div>
            {{/upcoming_events}}
            
            {{^upcoming_events}}
            <div class="no-events">
                <div class="no-events-icon">ðŸ“…</div>
                <p>No upcoming events. Keep learning! ðŸŒŸ</p>
            </div>
            {{/upcoming_events}}
        </div>
    </div>
</div>

<style>
/* Welcome Header Styles */
.elementary-welcome-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 25px;
    padding: 30px;
    margin-bottom: 30px;
    color: white;
    box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
}

.welcome-content {
    display: flex;
    align-items: center;
    gap: 20px;
}

.welcome-icon {
    font-size: 4rem;
    animation: bounce 2s infinite;
}

.welcome-title {
    font-size: 2.5rem;
    font-weight: 800;
    margin: 0;
    font-family: 'Comic Sans MS', cursive, sans-serif;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.welcome-subtitle {
    font-size: 1.2rem;
    margin: 8px 0 0 0;
    opacity: 0.9;
}

/* Search Container */
.elementary-search-container {
    margin-bottom: 30px;
}

.search-wrapper {
    position: relative;
    max-width: 500px;
    margin: 0 auto;
}

.elementary-search-input {
    width: 100%;
    padding: 15px 20px 15px 50px;
    border: none;
    border-radius: 25px;
    font-size: 1.1rem;
    background: white;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
}

.elementary-search-input:focus {
    outline: none;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    transform: translateY(-2px);
}

.search-icon {
    position: absolute;
    left: 18px;
    top: 50%;
    transform: translateY(-50%);
    color: #666;
    font-size: 1.2rem;
}

/* Section Headers */
.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
}

.section-title {
    font-size: 2rem;
    font-weight: 700;
    color: #2c3e50;
    margin: 0;
    display: flex;
    align-items: center;
    gap: 12px;
}

.view-all-link {
    color: #667eea;
    text-decoration: none;
    font-weight: 600;
    font-size: 1.1rem;
    transition: all 0.3s ease;
}

.view-all-link:hover {
    color: #764ba2;
    transform: translateX(5px);
}

/* Courses Grid */
.elementary-courses-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 25px;
    margin-bottom: 40px;
}

/* Events Section */
.events-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
}

.event-card {
    background: white;
    border-radius: 20px;
    padding: 20px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    display: flex;
    gap: 15px;
    transition: all 0.3s ease;
}

.event-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.event-date {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    border-radius: 15px;
    padding: 15px;
    text-align: center;
    min-width: 70px;
}

.event-day {
    font-size: 1.5rem;
    font-weight: 700;
}

.event-month {
    font-size: 0.9rem;
    text-transform: uppercase;
}

.event-title {
    font-size: 1.2rem;
    font-weight: 600;
    color: #2c3e50;
    margin: 0 0 8px 0;
}

.event-description {
    color: #6c757d;
    margin: 0 0 10px 0;
    line-height: 1.4;
}

.event-time {
    color: #667eea;
    font-size: 0.9rem;
    font-weight: 500;
}

.no-events {
    text-align: center;
    padding: 40px;
    color: #6c757d;
}

.no-events-icon {
    font-size: 3rem;
    margin-bottom: 15px;
}

/* Course Actions */
.course-actions {
    margin-top: 15px;
}

.btn-continue {
    background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
    color: white;
    border: none;
    padding: 12px 20px;
    border-radius: 20px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 8px;
    width: 100%;
    justify-content: center;
}

.btn-continue:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(67, 233, 123, 0.4);
}

/* Progress Bar */
.progress-bar-container {
    background: rgba(0, 0, 0, 0.1);
    border-radius: 10px;
    height: 8px;
    overflow: hidden;
}

.progress-bar {
    height: 100%;
    background: linear-gradient(90deg, #43e97b, #38f9d7);
    border-radius: 10px;
    transition: width 0.3s ease;
}

.progress-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 8px;
}

.progress-percentage {
    font-weight: 600;
    color: #43e97b;
}
</style>

<script>
function navigateToPage(page) {
    const urls = {
        'courses': '{{mycoursesurl}}',
        'lessons': '{{lessonsurl}}',
        'activities': '{{activitiesurl}}',
        'progress': '{{myreportsurl}}'
    };
    
    if (urls[page]) {
        window.location.href = urls[page];
    }
}

function navigateToCourse(courseId) {
    window.location.href = '/course/view.php?id=' + courseId;
}

function continueCourse(courseId) {
    window.location.href = '/course/view.php?id=' + courseId;
}
</script>